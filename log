
➜  www docker build -t midway-demo .
Sending build context to Docker daemon  856.7MB
Step 1/8 : FROM node:latest
 ---> 057129cb5d6f
Step 2/8 : RUN mkdir -p /usr/src/app
 ---> Running in 3c6f729e4473
Removing intermediate container 3c6f729e4473
 ---> 3838efc0be20
Step 3/8 : WORKDIR /usr/src/app
 ---> Running in 2cfab9311b7b
Removing intermediate container 2cfab9311b7b
 ---> 916746543af0
Step 4/8 : COPY package.json /usr/src/app
 ---> 58ee9022b95d
Step 5/8 : RUN npm install --registry=https://registry.npm.taobao.org
 ---> Running in c522756514da
npm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated
npm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated
npm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated
npm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated
npm WARN deprecated sane@4.1.0: some dependency vulnerabilities fixed, support for node < 10 dropped, and newer ECMAScript syntax/features added
npm WARN deprecated @types/superagent@4.1.15: [WARNING] Use 4.1.14 instead of 4.1.15, reason: https://github.com/DefinitelyTyped/DefinitelyTyped/issues/58445

added 944 packages in 41s
npm notice
npm notice New minor version of npm available! 8.12.1 -> 8.13.1
npm notice Changelog: <https://github.com/npm/cli/releases/tag/v8.13.1>
npm notice Run `npm install -g npm@8.13.1` to update!
npm notice
Removing intermediate container c522756514da
 ---> ced57bc34e75
Step 6/8 : COPY . /usr/src/app
 ---> f0a0da393886
Step 7/8 : EXPOSE 8090
 ---> Running in 37f01ef8403d
Removing intermediate container 37f01ef8403d
 ---> cf004c22c2aa
Step 8/8 : CMD ["node", "run", "dev"]
 ---> Running in f05b5066c461
Removing intermediate container f05b5066c461
 ---> edd204fdf1a2
Successfully built edd204fdf1a2
Successfully tagged midway-demo:latest
➜  www


➜  www docker images
REPOSITORY                                      TAG       IMAGE ID       CREATED          SIZE
midway-demo                                     latest    edd204fdf1a2   40 seconds ago   2.12GB
node                                            latest    057129cb5d6f   2 days ago       998MB
mongo                                           latest    96c85f49715a   4 weeks ago      690MB
redis                                           latest    1ca2c2a1b554   6 weeks ago      117MB
elasticsearch                                   7.16.2    66c29cde15ce   6 months ago     646MB
kibana                                          7.16.2    8c46ec23123e   6 months ago     1.3GB
mysql                                           latest    b05128b000dd   7 months ago     516MB
centos                                          latest    5d0da3dc9764   9 months ago     231MB
docker.elastic.co/kibana/kibana                 7.1.0     714b175e84e8   3 years ago      745MB
docker.elastic.co/elasticsearch/elasticsearch   7.1.0     12ad640a1ec0   3 years ago      894MB
lmenezes/cerebro                                0.8.3     3a2daf87f0c7   3 years ago      333MB
➜  www docker run -d -p 8090:8090  midway-demo
35d54daa1f881323c5f64ea6a27228cc70f0ceeb77d35529133d5dd41ae37f5a
➜  www docker ps -a
CONTAINER ID   IMAGE                                                 COMMAND                  CREATED         STATUS                     PORTS     NAMES
35d54daa1f88   midway-demo                                           "docker-entrypoint.s…"   4 seconds ago   Exited (1) 3 seconds ago             relaxed_turing
da7efd16be64   docker.elastic.co/kibana/kibana:7.1.0                 "/usr/local/bin/kiba…"   3 weeks ago     Exited (137) 3 weeks ago             hwc_kibana7
5c485bfa6422   lmenezes/cerebro:0.8.3                                "/opt/cerebro/bin/ce…"   3 weeks ago     Exited (143) 3 weeks ago             hwc_cerebro
6ac7882f5685   docker.elastic.co/elasticsearch/elasticsearch:7.1.0   "/usr/local/bin/dock…"   3 weeks ago     Exited (137) 3 weeks ago             es7_cold
1696783e54a9   docker.elastic.co/elasticsearch/elasticsearch:7.1.0   "/usr/local/bin/dock…"   3 weeks ago     Exited (137) 3 weeks ago             es7_hot
bea01b7457f4   docker.elastic.co/elasticsearch/elasticsearch:7.1.0   "/usr/local/bin/dock…"   3 weeks ago     Exited (137) 3 weeks ago             es7_warm
08000fbe6c26   kibana:7.16.2                                         "/bin/tini -- /usr/l…"   4 weeks ago     Exited (0) 4 weeks ago               kibana
743e60bcacf4   elasticsearch:7.16.2                                  "/bin/tini -- /usr/l…"   4 weeks ago     Exited (143) 4 weeks ago             elasticsearch
ecc7d5bdbfab   mysql                                                 "docker-entrypoint.s…"   7 months ago    Exited (137) 4 weeks ago             mysql-test
➜  www docker start relaxed_turing
relaxed_turing
➜  www docker ps -a
CONTAINER ID   IMAGE                                                 COMMAND                  CREATED          STATUS                     PORTS     NAMES
35d54daa1f88   midway-demo                                           "docker-entrypoint.s…"   28 seconds ago   Exited (1) 3 seconds ago             relaxed_turing
da7efd16be64   docker.elastic.co/kibana/kibana:7.1.0                 "/usr/local/bin/kiba…"   3 weeks ago      Exited (137) 3 weeks ago             hwc_kibana7
5c485bfa6422   lmenezes/cerebro:0.8.3                                "/opt/cerebro/bin/ce…"   3 weeks ago      Exited (143) 3 weeks ago             hwc_cerebro
6ac7882f5685   docker.elastic.co/elasticsearch/elasticsearch:7.1.0   "/usr/local/bin/dock…"   3 weeks ago      Exited (137) 3 weeks ago             es7_cold
1696783e54a9   docker.elastic.co/elasticsearch/elasticsearch:7.1.0   "/usr/local/bin/dock…"   3 weeks ago      Exited (137) 3 weeks ago             es7_hot
bea01b7457f4   docker.elastic.co/elasticsearch/elasticsearch:7.1.0   "/usr/local/bin/dock…"   3 weeks ago      Exited (137) 3 weeks ago             es7_warm
08000fbe6c26   kibana:7.16.2                                         "/bin/tini -- /usr/l…"   4 weeks ago      Exited (0) 4 weeks ago               kibana
743e60bcacf4   elasticsearch:7.16.2                                  "/bin/tini -- /usr/l…"   4 weeks ago      Exited (143) 4 weeks ago             elasticsearch
ecc7d5bdbfab   mysql                                                 "docker-entrypoint.s…"   7 months ago     Exited (137) 4 weeks ago             mysql-test
➜  www

```
➜  www docker build -t midway-demo .
Sending build context to Docker daemon  528.9kB
Step 1/8 : FROM node:latest
 ---> 057129cb5d6f
Step 2/8 : RUN mkdir -p /usr/src/app
 ---> Running in add1b541b588
Removing intermediate container add1b541b588
 ---> 9c3730370998
Step 3/8 : WORKDIR /usr/src/app
 ---> Running in 115cb7b600bf
Removing intermediate container 115cb7b600bf
 ---> 5e2666580496
Step 4/8 : COPY package.json /usr/src/app
 ---> 144b8b372f0b
Step 5/8 : RUN npm install --registry=https://registry.npm.taobao.org
 ---> Running in 6ed98317f8f2
npm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated
npm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated
npm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated
npm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated
npm WARN deprecated sane@4.1.0: some dependency vulnerabilities fixed, support for node < 10 dropped, and newer ECMAScript syntax/features added
npm WARN deprecated @types/superagent@4.1.15: [WARNING] Use 4.1.14 instead of 4.1.15, reason: https://github.com/DefinitelyTyped/DefinitelyTyped/issues/58445

added 944 packages in 41s
npm notice
npm notice New minor version of npm available! 8.12.1 -> 8.13.1
npm notice Changelog: <https://github.com/npm/cli/releases/tag/v8.13.1>
npm notice Run `npm install -g npm@8.13.1` to update!
npm notice
Removing intermediate container 6ed98317f8f2
 ---> 06e37e2737cf
Step 6/8 : COPY . /usr/src/app
 ---> 7fcfef91ff7d
Step 7/8 : EXPOSE 8090
 ---> Running in 9f72a6884cf7
Removing intermediate container 9f72a6884cf7
 ---> d1610c3db225
Step 8/8 : CMD ["node", "run", "build"]
 ---> Running in 1b22c2f9ee9b
Removing intermediate container 1b22c2f9ee9b
 ---> e4c06daee4e1
Successfully built e4c06daee4e1
Successfully tagged midway-demo:latest
➜  www
```
